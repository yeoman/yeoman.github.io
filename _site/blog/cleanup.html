<p>A lots of changes and new features have been introduced in the Generator System (<code>npm search yeoman-generator</code>) lately. If you&#39;re not watching the <a href="https://github.com/yeoman/generator">yeoman/generator</a>, maybe you&#39;ve been let down on the latest changes. Fear not, we <a href="https://github.com/yeoman/generator/releases">documented every recent release in our changelog</a>!</p>

<p>Along with the new year start, we&#39;ve decided to build a todos list of the most important changes our official generators should implement. This will allow them to be clean, but also ready for the new upcoming feature; notably the capacity to compose multiples generators together!</p>

<p>You may not be an official generator maintainer, but we invite you to follow our lead and make sure you follow these guidelines. So, here it goes!</p>

<h3>Generators should generate a <code>.yo-rc.json</code> file</h3>

<p>The <code>.yo-rc.json</code> file allow you to save configuration, but is also the marker used to define a project root folder. This allow user from running <code>yo</code> command from sub directory to work on their whole project.</p>

<p>It is also how composed generators will know what is the root of a project.</p>

<p>Simply add this line somewhere in your generator to generate the file at least once:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</code></pre></div>
<p>Of course, if you&#39;re using the config object to store datas, it&#39;ll already be created. <a href="http://yeoman.github.io/generator/Storage.html">Read more on the config Storage in our API reference</a>.</p>

<h3>Use the new <code>.extend()</code> method instead of <code>util.inherit</code></h3>

<p>Until recently, you&#39;d extend the Base generator this way:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">BlogGenerator</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">yeoman</span><span class="p">.</span><span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="c1">// ...</span>
<span class="p">};</span>

<span class="nx">util</span><span class="p">.</span><span class="nx">inherits</span><span class="p">(</span><span class="nx">BlogGenerator</span><span class="p">,</span> <span class="nx">yeoman</span><span class="p">.</span><span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">);</span>
</code></pre></div>
<p>You can now do the same in a fashion similar to Backbone.js:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">BlogGenerator</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">yeoman</span><span class="p">.</span><span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="cm">/* prototype methods goes here */</span>
<span class="p">});</span>
</code></pre></div>
<p>As you may know, our next big milestone is to allow generator to be composed with each other. This mean you&#39;ll be able to use external generators inside your own, and allow user to build their app using multiple generators (like, I want to build an app with Sailsjs and Angular, with Bootstrap and support for Jenkins tests). Using the <code>.extend</code> inheritance signature will make it easier to get your generator ready to integrate into the composable yeoman ecosystem.</p>

<p>Note that we extracted the <a href="https://github.com/SBoudrias/class-extend">inheritance logic into a small standalone NPM module</a>. It&#39;ll be easy to add such functionnality into your own projects without any overhead!</p>

<h3>Remove use of deprecated test methods</h3>

<p>In release <code>0.16.0</code>, we deprecated some tests methods and added some other. Deprecation are now logged to the console, so make sure you get rid of those!</p>

<p>Also, <a href="http://yeoman.github.io/generator/assert.html">helpers assertions methods</a> are now exposed on the <code>yeoman.assert</code> namespace.</p>

<h3>Update dependencies in the generated bower.json and package.json</h3>

<p>As usual, update your deps. You may use <a href="https://github.com/alanshaw/david">david tool</a> for that.</p>

<h3>Make sure package.json <code>peerDependencies</code> do not use tilde <code>~</code> versioning</h3>

<p>NPM <code>peerDependencies</code> are tricky to get right. As they&#39;re installed in the global <code>node_modules</code> folder, they&#39;re often the cause of installation errors due to incompatible version required between differents packages. Please, be a good citizen and don&#39;t make the issue worse by using restrictive version requirement.</p>

<p>So, make it a rule to always defines <code>peerDependencies</code> version using a minimum range (<code>&gt;=</code>), or using any available version (<code>*</code>).</p>
<div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&quot;peerDependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="err">//</span> <span class="err">GOOD</span>
        <span class="nt">&quot;grunt-cli&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;= 0.1.0&quot;</span><span class="p">,</span>
        <span class="err">//</span> <span class="err">GOOD</span>
        <span class="nt">&quot;gulp&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="err">//</span> <span class="err">BAD</span> <span class="err">-</span> <span class="err">don&#39;t</span> <span class="err">ever</span> <span class="err">do</span> <span class="err">this</span>
        <span class="nt">&quot;generator-karma&quot;</span><span class="p">:</span> <span class="s2">&quot;~1.2.0&quot;</span><span class="p">,</span>
        <span class="nt">&quot;generator-commonjs&quot;</span><span class="p">:</span> <span class="s2">&quot;1.2.0&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3>On that, good luck!</h3>

<p>That&#39;s all folks! Good luck and keep on building awesome generators.</p>

<p>If you&#39;re a generator author, you really should click the <a href="https://github.com/yeoman/generator"><code>watch</code> button on the Generator system repo</a> - this way you&#39;ll be kept up to date on our future plan and updates. Also make sure to check the <code>[Composability]</code> issues, this is our next big milestone and we need your feedback!</p>
